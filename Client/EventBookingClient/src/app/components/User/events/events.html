<section class="p-6 mt-4">
  <div class=" flex-between">
    <h2 class="text-4xl font-semibold mb-4 orange_gradient">All Events</h2>
    <div class="flex flex-col sm:flex-row gap-4 mb-6 items-center">
      <div class=" flex-end gap-2">
        <input
        type="text"
        placeholder="Search..."
        [(ngModel)]="searchElement"
        class="form_input"
        />
        <input
        type="date"
        [(ngModel)]="filterDate"
        class="form_input"
        />
        <button class="p-16 outline_btn" (click)="onFilterChange()">Filter</button>
      </div>
    </div>
  </div>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-12">
    @for (event of events(); track event.id) {
      <div class=" prompt-card bg-white rounded-xl drop-shadow-lg p-6 mb-6">
        <h3 class="text-xl font-bold orange_gradient">{{ event.title }}</h3>
        <p class="text-gray-600 mt-2">{{ event.description }}</p>

        <p class="text-sm mt-1 text-gray-400">
          ðŸ“… Date: {{ event.eventDate | date: 'mediumDate' }}
        </p>
        <p class="text-sm mt-1 text-gray-400">
          ðŸ“Œ Status: {{ event.eventStatus }} | Type: {{ event.eventType }}
        </p>

        <div class="mt-4">
          <h4 class="font-semibold mb-2 text-orange-600">Ticket Types:</h4>
          <ul class="text-sm space-y-1">
            @for (ticket of event.ticketTypes; track ticket.id) {
              <li class="text-gray-700">
                <span class="font-medium">{{ ticketTypeToString(ticket.typeName) }} </span> | 
                â‚¹{{ ticket.price }} |
                Available: {{ ticket.totalQuantity - ticket.bookedQuantity }}
              </li>
            }
          </ul>
        </div>

        <button class="mt-4 black_btn w-full" [routerLink]="['/user/events', event.id]">View Details</button>
      </div>
    }
  </div>

  <div class="flex justify-center mt-8 gap-2">
    <button class="outline_btn" [disabled]="pageNumber() === 1" (click)="goToPage(pageNumber() - 1)">
      Previous
    </button>

    <span class="px-4 py-2 text-gray-600 font-medium">
      Page {{ pageNumber() }} of {{ totalPages() }}
    </span>

    <button class="black_btn" [disabled]="pageNumber() === totalPages()" (click)="goToPage(pageNumber() + 1)">
      Next
    </button>
  </div>
</section>
